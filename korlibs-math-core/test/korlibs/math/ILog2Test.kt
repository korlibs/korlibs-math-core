package korlibs.math

import kotlin.test.*

class ILog2Test {
    @Test
    fun testIlog2() {
        assertEquals(-1, ilog2(-1))
        assertEquals(-1, ilog2(0))
        assertEquals(0, ilog2(1))
        assertEquals(1, ilog2(2))
        assertEquals(1, ilog2(3))
        assertEquals(2, ilog2(4))
        assertEquals(2, ilog2(5))
        assertEquals(2, ilog2(7))
        assertEquals(3, ilog2(8))
        assertEquals(3, ilog2(9))
        assertEquals(3, ilog2(15))
        assertEquals(4, ilog2(16))
        assertEquals(4, ilog2(17))
        assertEquals(4, ilog2(31))
        assertEquals(5, ilog2(32))
        assertEquals(5, ilog2(33))
        assertEquals(5, ilog2(63))
        assertEquals(6, ilog2(64))
        assertEquals(6, ilog2(65))
        assertEquals(6, ilog2(127))
        assertEquals(7, ilog2(128))
        assertEquals(7, ilog2(129))
        assertEquals(7, ilog2(255))
        assertEquals(8, ilog2(256))
        assertEquals(8, ilog2(257))
        assertEquals(8, ilog2(511))
        assertEquals(9, ilog2(512))
        assertEquals(9, ilog2(513))
        assertEquals(9, ilog2(1023))
        assertEquals(10, ilog2(1024))
        assertEquals(10, ilog2(1025))
        assertEquals(10, ilog2(2047))
        assertEquals(11, ilog2(2048))
        assertEquals(11, ilog2(2049))
        assertEquals(11, ilog2(4095))
        assertEquals(12, ilog2(4096))
        assertEquals(12, ilog2(4097))
        assertEquals(12, ilog2(8191))
        assertEquals(13, ilog2(8192))
        assertEquals(13, ilog2(8193))
        assertEquals(13, ilog2(16383))
        assertEquals(14, ilog2(16384))
        assertEquals(14, ilog2(16385))
        assertEquals(14, ilog2(32767))
        assertEquals(15, ilog2(32768))
    }

    @Test
    fun testIlog2Ceil() {
        assertEquals(-1, ilog2Ceil(-1))
        assertEquals(-1, ilog2Ceil(0))
        assertEquals(0, ilog2Ceil(1))
        assertEquals(1, ilog2Ceil(2))
        assertEquals(2, ilog2Ceil(3))
        assertEquals(2, ilog2Ceil(4))
        assertEquals(3, ilog2Ceil(5))
        assertEquals(3, ilog2Ceil(7))
        assertEquals(3, ilog2Ceil(8))
        assertEquals(4, ilog2Ceil(9))
        assertEquals(4, ilog2Ceil(15))
        assertEquals(4, ilog2Ceil(16))
        assertEquals(5, ilog2Ceil(17))
        assertEquals(5, ilog2Ceil(31))
        assertEquals(5, ilog2Ceil(32))
        assertEquals(6, ilog2Ceil(33))
        assertEquals(6, ilog2Ceil(63))
        assertEquals(6, ilog2Ceil(64))
        assertEquals(7, ilog2Ceil(65))
        assertEquals(7, ilog2Ceil(127))
        assertEquals(7, ilog2Ceil(128))
        assertEquals(8, ilog2Ceil(129))
        assertEquals(8, ilog2Ceil(255))
        assertEquals(8, ilog2Ceil(256))
        assertEquals(9, ilog2Ceil(257))
        assertEquals(9, ilog2Ceil(511))
        assertEquals(9, ilog2Ceil(512))
        assertEquals(10, ilog2Ceil(513))
        assertEquals(10, ilog2Ceil(1023))
        assertEquals(10, ilog2Ceil(1024))
        assertEquals(11, ilog2Ceil(1025))
        assertEquals(11, ilog2Ceil(2047))
        assertEquals(11, ilog2Ceil(2048))
        assertEquals(12, ilog2Ceil(2049))
        assertEquals(12, ilog2Ceil(4095))
        assertEquals(12, ilog2Ceil(4096))
        assertEquals(13, ilog2Ceil(4097))
        assertEquals(13, ilog2Ceil(8191))
    }
}